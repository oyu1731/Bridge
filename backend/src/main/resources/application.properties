# ===========================================
# データベース接続設定 (Docker内部ネットワーク用)
# ===========================================
spring.datasource.url=jdbc:mysql://bridge-mysql:3306/bridgedb?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Tokyo
spring.datasource.username=bridgeuser
spring.datasource.password=bridgepass
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===========================================
# JPA/Hibernate設定
# ===========================================
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
logging.level.org.hibernate=INFO

# ===========================================
# サーバー・アクチュエーター設定
# ===========================================
server.port=8080
management.endpoints.web.exposure.include=health,info
management.endpoint.health.enabled=true
management.endpoint.health.show-details=always

# ===========================================
# Gmail SMTP設定 (.envから取得)
# ===========================================
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USER}
spring.mail.password=${MAIL_PASS}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.debug=false

# ===========================================
# CORS / セキュリティ設定
# ===========================================
# ここで .env の APP_CORS_ALLOWED_ORIGINS を見に行くように指定
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS}

# ===========================================
# Stripe / AI 設定
# ===========================================
stripe.secretKey=${STRIPE_API_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}

groq.api.key=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
groq.api.url=https://api.groq.com/openai/v1/chat/completions

# ===========================================
# その他システム設定
# ===========================================
spring.http.encoding.charset=UTF-8
spring.http.encoding.force=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
logging.level.org.springframework.web.client.RestTemplate=INFO